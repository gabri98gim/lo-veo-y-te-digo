---
import SearchBar from "./SearchBar.astro";
---

<header
  class="border-b border-gray-200 dark:border-gray-800 py-6 bg-white dark:bg-cine-black transition-colors duration-300"
>
  <div
    class="max-w-screen-2xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-6"
  >
    <a href="/" class="group text-center md:text-left">
      <h1
        class="font-serif text-4xl md:text-5xl font-bold tracking-tighter text-gray-900 dark:text-white"
      >
        lo veo
        <span class="italic font-light text-cine-gold mx-2">&</span>
        te digo
      </h1>
    </a>

    <div
      class="flex flex-col md:flex-row flex-wrap justify-center items-center gap-6 md:gap-8"
    >
      <nav
        class="flex flex-wrap justify-center gap-4 md:gap-6 text-xs font-bold uppercase tracking-widest text-gray-600 dark:text-gray-400"
      >
        <a
          href="/"
          class="hover:text-cine-gold hover:underline underline-offset-4 transition"
          >Reviews</a
        >
        <a
          href="/upcoming"
          class="hover:text-cine-gold hover:underline underline-offset-4 transition"
          >Estrenos</a
        >
        <a
          href="/stats"
          class="hover:text-cine-gold hover:underline underline-offset-4 transition"
          >Stats</a
        >
        <a
          href="/hall-of-fame"
          class="hover:text-cine-gold hover:underline underline-offset-4 transition"
          >Hall of Fame</a
        >
        <a
          href="/contact"
          class="hover:text-cine-gold hover:underline underline-offset-4 transition"
          >Contacto</a
        >
      </nav>

      <div class="flex items-center gap-6">
        <div>
          <SearchBar />
        </div>

        <div class="hidden md:block w-px h-6 bg-gray-300 dark:bg-gray-700">
        </div>

        <button
          id="theme-toggle"
          class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition text-gray-600 dark:text-gray-400"
          aria-label="Cambiar tema"
        >
          <span class="hidden dark:block">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-6 h-6"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z"
              ></path>
            </svg>
          </span>
          <span class="block dark:hidden">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-6 h-6"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"
              ></path>
            </svg>
          </span>
        </button>
      </div>
    </div>
  </div>
</header>

<script>
  const themeToggle = document.getElementById("theme-toggle");
  themeToggle?.addEventListener("click", () => {
    const html = document.documentElement;
    if (html.classList.contains("dark")) {
      html.classList.remove("dark");
      localStorage.theme = "light";
    } else {
      html.classList.add("dark");
      localStorage.theme = "dark";
    }
  });
</script>
